<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>jqGrid Customer List</title>

    <!-- jQuery & jqGrid -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/free-jqgrid/4.15.5/css/ui.jqgrid.min.css">

    <!-- File CSS -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <table id="customerTable"></table>

    <!-- jQuery & jqGrid Scripts -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/free-jqgrid/4.15.5/jquery.jqgrid.min.js"></script>

    <!-- File JavaScript -->
    <script src="scripts.js"></script>
</body>
</html>


// Danh sách customer
var customers = [
    { id: 1, name: "Nguyễn Văn A", sex: "Nam", address: "Hà Nội" },
    { id: 2, name: "Trần Thị B", sex: "Nữ", address: "Hồ Chí Minh" },
    { id: 3, name: "Lê Văn C", sex: "Nam", address: "Đà Nẵng" }
];

// Mảng các cột cần hiển thị (có thể thay đổi)
var visibleColumns = ["sex", "id","name"];

// Map tên cột hiển thị
var columnNames = {
    id: "ID",
    name: "Tên",
    sex: "Giới tính",
    address: "Địa chỉ"
};

// Tạo danh sách cột hiển thị dựa trên visibleColumns
var colModel = visibleColumns.map(field => ({
    name: field,
    index: field,
    label: columnNames[field] || field,
    width: 100
}));

// Khởi tạo jqGrid
$(document).ready(function () {
    $("#customerTable").jqGrid({
        datatype: "local",
        data: customers,
        colModel: colModel,
        viewrecords: true,
        height: "auto",
        rowNum: 10,
        loadComplete: function () {
            // Bỏ style mặc định của jqGrid (nếu cần)
            $(".ui-jqgrid").css("border", "none");
        }
    });
});


/* Đảm bảo bảng không vượt quá màn hình */
.ui-jqgrid {
    width: 90% !important;
    max-width: 90%;
    overflow-x: hidden; /* Ẩn thanh cuộn ngang */
    margin: 0 auto;
}

#customerTable {
    width: 100%; /* Bảng chiếm toàn bộ container */
    max-width: 100%;
    border-collapse: collapse;
    border: 2px solid #333;
}

/* Header của bảng */
.ui-jqgrid .ui-jqgrid-htable th {
    background-color: #007BFF;
    color: white;
    text-align: center;
    padding: 10px;
    font-size: 16px;
}

/* Các dòng dữ liệu */
.ui-jqgrid-btable tr.jqgrow td {
    padding: 8px;
    font-size: 14px;
    text-align: center;
}

/* Màu xen kẽ */
.ui-jqgrid-btable tr:nth-child(even) td {
    background-color: #f2f2f2;
}

/* Hover */
.ui-jqgrid-btable tr:hover td {
    background-color: #ddd;
    cursor: pointer;
}


<script>
    var customers = [
        <c:forEach var="customer" items="${customerForm.customerList}" varStatus="status">
            {
                "id": "${customer.id}",
                "name": "${customer.name}",
                "sex": "${customer.sex}",
                "address": "${customer.address}"
            }<c:if test="${!status.last}">,</c:if>
        </c:forEach>
    ];
</script>
